<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- <link rel="stylesheet" href="./css/basic.css"> -->
        <link rel="stylesheet" href="./css/style2.css">
        <!-- <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        -->
        <title>main2</title>
    </head>
    <body>
        <header>
            <div class="container">
                <nav class="gnb">
                    <ol>
                        <li class="gnb-item">
                            <a href="#intro">
                                <span>01</span>자기소개</a>
                        </li>
                        <li class="gnb-item">
                            <a href="#career">
                                <span>01</span>경력사항</a>
                        </li>
                        <li class="gnb-item">
                            <a href="#pf">
                                <span>02</span>프로젝트</a>
                        </li>
                        <li class="gnb-item">
                            <a href="#contact">
                                <span>03</span>연락하기</a>
                        </li>
                    </ol>
                </nav>
            </div>
        </header>
        <div class="main">
            <section class="visual"></section>
            <section class="visual"></section>
            <!-- <section class="swiper-mouse"> <div class="container"> <div class="swiper
            swiper-container swiper-mouse-container"> <ul class="swiper-wrapper"> <li
            class="swiper-slide"> <img src="images/pf-slide-sub/traum.jpg"> </li> <li
            class="swiper-slide"> <img src="images/pf-slide-sub/ccl.png"> </li> <li
            class="swiper-slide"> <img src="images/pf-slide-sub/traum.jpg"> </li> <li
            class="swiper-slide"> <img src="images/pf-slide-sub/ccl.png"> </li><li
            class="swiper-slide"> <img src="images/pf-slide-sub/traum.jpg"> </li> <li
            class="swiper-slide"> <img src="images/pf-slide-sub/ccl.png"> </li> </ul> </div>
            </div> </section> -->
            <section class="swiper-mouse">
                <div class="container">
                    <div class="swiper swiper-container swiper-mouse-container">
                        <ul class="swiper-wrapper">
                            <li class="swiper-slide">
                                <img src="images/pf-slide-sub/traum.jpg">
                            </li>
                            <li class="swiper-slide">
                                <img src="images/pf-slide-sub/ccl.png">
                            </li>
                            <li class="swiper-slide">
                                <img src="images/pf-slide-sub/traum.jpg">
                            </li>
                            <li class="swiper-slide">
                                <img src="images/pf-slide-sub/ccl.png">
                            </li>
                            <li class="swiper-slide">
                                <img src="images/pf-slide-sub/traum.jpg">
                            </li>
                            <li class="swiper-slide">
                                <img src="images/pf-slide-sub/ccl.png">
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            <section class="visual"></section>
            <section class="visual"></section>
        </div>
        <!-- Swiper JS -->
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
        <!-- Initialize Swiper -->
        <script>
            var swiper = new Swiper(".swiper-mouse-container", {
                direction: "horizontal",
                slidesPerView: 1,
                spaceBetween: 30,
                mousewheel: {
                    enabled: true,
                    forceToAxis: true, // 가로 방향에서만 동작
                    invert: false,
                    sensitivity: 1
                }
            });
            // 🎯 스크롤 컨트롤 로직
            let isSwiperActive = false; // 현재 Swiper가 활성화되었는지 체크

            function handleScroll(event) {
                const swiperContainer = document.querySelector('.swiper-mouse');
                const rect = swiperContainer.getBoundingClientRect();

                if (rect.top <= 0 && rect.bottom > window.innerHeight) {
                    // 🔹 Swiper가 화면 상단에 위치하면   
                    console.log(rect.top);
                    console.log(rect.bottom);
                    swiperContainer.classList.add("on");                 
                    isSwiperActive = true;
                    document.body.style.overflow = 'hidden'; // 세로 스크롤 막기
                } else {
                    swiperContainer.classList.remove("on"); 
                    isSwiperActive = false;
                    document.body.style.overflow = ''; // 세로 스크롤 복원
                }
            }
            // 🔥 마우스 휠 이벤트 추가
            window.addEventListener('wheel', (event) => {
                if (isSwiperActive) {
                    event.preventDefault(); // 기본 스크롤 방지
                    if (event.deltaY > 0) {
                        swiper.slideNext(); // 휠 내리면 다음 슬라이드
                    } else {
                        swiper.slidePrev(); // 휠 올리면 이전 슬라이드
                    }
                }
            }, {passive: false});

            // 🔥 스크롤 이벤트 추가
            window.addEventListener('scroll', handleScroll);
        </script>
    </body>
</html>